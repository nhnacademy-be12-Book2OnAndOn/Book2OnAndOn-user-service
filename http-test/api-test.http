@host = http://localhost:8086
@contentType = application/json

# ==========================================
# 1. Auth (인증)
# ==========================================

### 1-1. 로컬 회원가입
POST {{host}}/auth/signup
Content-Type: {{contentType}}

{
  "userLoginId": "testuser",
  "password": "Password123!",
  "name": "가나다",
  "email": "test@test.com",
  "phone": "01012345678",
  "birth": "2025-11-21"
}

### 1-2. 로컬 로그인 (토큰 발급 확인)
# 응답으로 accessToken, refreshToken이 와야 성공
POST {{host}}/auth/login
Content-Type: {{contentType}}

{
  "userId": "test",
  "password": "Password1234!"
}


# ==========================================
# 2. User (회원 정보 - 마이페이지)
# * 주의: Gateway가 없으므로 X-User-Id 헤더를 직접 넣어서 테스트합니다.
# ==========================================

### 2-1. 내 정보 조회
GET {{host}}/users/me
X-User-Id: 1

### 2-2. 내 정보 수정
PUT {{host}}/users/me
Content-Type: {{contentType}}
X-User-Id: 1

{
  "name": "라마바",
  "email": "new@test.com",
  "nickname": "마바사",
  "phone": "01056781234"
}

### 2-3. 비밀번호 변경
POST {{host}}/users/me/password
Content-Type: {{contentType}}
X-User-Id: 1

{
  "currentPassword": "Password123!",
  "newPassword": "Password1234!"
}

### 2-4. 회원 탈퇴 (Soft Delete)
DELETE {{host}}/users/me
X-User-Id: 1


# ==========================================
# 3. UserAddress (주소 관리)
# ==========================================

### 3-1. 주소 추가 (기본 배송지)
POST {{host}}/users/me/addresses
Content-Type: {{contentType}}
X-User-Id: 1

{
  "userAddressName": "집",
  "userAddress": "광주광역시 동구 조선대길 146",
  "userAddressDetail": "IT융합대학 1층",
  "isDefault": true
}

### 3-2. 주소 추가 (회사 - 일반)
POST {{host}}/users/me/addresses
Content-Type: {{contentType}}
X-User-Id: 1

{
  "userAddressName": "회사",
  "userAddress": "서울시 강남구 테헤란로",
  "userAddressDetail": "빌딩 5층",
  "isDefault": false
}

### 3-3. 주소 목록 조회
GET {{host}}/users/me/addresses
X-User-Id: 1

### 3-4. 주소 상세 조회 (ID는 상황에 맞춰 변경)
GET {{host}}/users/me/addresses/1
X-User-Id: 1

### 3-5. 주소 수정
PUT {{host}}/users/me/addresses/1
Content-Type: {{contentType}}
X-User-Id: 1

{
  "addressId": 1,
  "userAddressName": "본가",
  "userAddress": "전북특별자치도 익산시 무왕로",
  "userAddressDetail": "101/101"
}

### 3-6. 주소 삭제
DELETE {{host}}/users/me/addresses/2
X-User-Id: 1


# ==========================================
# 4. UserGrade (등급 관리 - 관리자)
# ==========================================

### 4-1. 등급 전체 조회 (공통)
GET {{host}}/user-service/grades

### 4-2. 새 등급 생성 (관리자)
# Gateway가 없으므로 권한 체크 없이 생성됨
POST {{host}}/user-service/admin/grades
Content-Type: {{contentType}}

{
  "gradeName": "BASIC",
  "pointAddRate": 0.01,
  "gradeCutline": 0
}

### 4-3. 등급 수정
PUT {{host}}/user-service/admin/grades/1
Content-Type: {{contentType}}

{
  "pointAddRate": 0.015,
  "gradeCutline": 10000
}

### 4-4. 등급 삭제
DELETE {{host}}/user-service/admin/grades/5